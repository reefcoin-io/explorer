
var es = require('event-stream')
  , it = require('it-is').style('colour')
  , d = require('d-utils')

function readStream(stream, pauseAt, done) {
  if(!done) done = pauseAt, pauseAt = -1
  var array = [] 
  stream.on('data', function (data) {
    array.push(data)
    if(!--pauseAt )
      stream.pause(), done(null, array)
  })
  stream.on('error', done)
  stream.on('end', function (data) {
    done(null, array)
  })

}

exports ['read an array'] = function (test) {

  var readThis = d.map(3, 6, 100, d.id